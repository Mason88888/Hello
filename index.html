<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Batxie - Juego de Cifrados Femboy Avanzado</title>
<style>
  body {
    background-color: black;
    color: #7fff00;
    font-family: monospace, monospace;
    padding: 20px;
  }
  h1 {
    text-shadow: 0 0 8px #7fff00;
    font-size: 2rem;
  }
  .cipher {
    border: 1px solid #7fff00;
    padding: 12px;
    margin: 12px 0;
  }
  input {
    background: black;
    color: #7fff00;
    border: 1px solid #7fff00;
    padding: 8px;
    width: 320px;
    font-size: 1rem;
  }
  button {
    background: #7fff00;
    color: black;
    border: none;
    padding: 8px 16px;
    margin-left: 8px;
    cursor: pointer;
    font-weight: bold;
    font-size: 1rem;
  }
  #timer {
    font-size: 1.2rem;
    color: red;
    margin-bottom: 16px;
  }
  .correct {
    color: #00ff00;
  }
  .incorrect {
    color: #ff4040;
  }
  .flash-red {
    animation: flashred 0.3s ease;
  }
  @keyframes flashred {
    0%, 100% { background-color: black; }
    50% { background-color: darkred; }
  }
  #final-message {
    color: #7fff00;
    font-size: 2.5rem;
    text-align: center;
    margin-top: 40px;
    text-shadow: 0 0 10px #7fff00, 0 0 20px #7fff00;
    animation: glow 2s ease-in-out infinite alternate;
  }
  @keyframes glow {
    from { text-shadow: 0 0 10px #7fff00, 0 0 20px #7fff00; }
    to { text-shadow: 0 0 20px #00ff00, 0 0 40px #00ff00; }
  }
</style>
</head>
<body>
  <h1>ðŸ¦‡ Batxie - Juego de Cifrados Femboy Avanzado</h1>
  <p>Descifra las pistas y pon la respuesta correcta...</p>
  <p id="timer">Tiempo restante: 300s</p>

  <div class="cipher">
    <p><strong>1. Cifrado CÃ©sar (+5):</strong> "Ynts fqqj fxywnjy"</p>
    <input id="ans1" placeholder="Tu respuesta" autocomplete="off" />
    <button onclick="checkAnswer(1)">Comprobar</button>
    <p id="res1"></p>
  </div>

  <div class="cipher">
    <p><strong>2. Binario:</strong> "01000011 01110101 01100001 01101110 01100100 01101111 00100000 01110110 01100101 01101110 01100111 01100001 01110011 00100000 01101110 01101111 00100000 01100101 01110011 01110100 01100001 01110010 01100001"</p>
    <input id="ans2" placeholder="Tu respuesta" autocomplete="off" />
    <button onclick="checkAnswer(2)">Comprobar</button>
    <p id="res2"></p>
  </div>

  <div class="cipher">
    <p><strong>3. Base64:</strong> "UmV2aXNhIGVuY2ltYSBkZSBtaSBhcm1hcmlv"</p>
    <input id="ans3" placeholder="Tu respuesta" autocomplete="off" />
    <button onclick="checkAnswer(3)">Comprobar</button>
    <p id="res3"></p>
  </div>

  <div class="cipher">
    <p><strong>4. VigenÃ¨re (clave: femboy):</strong> "Hzhnczmkt otggu hqtcd"</p>
    <input id="ans4" placeholder="Tu respuesta" autocomplete="off" />
    <button onclick="checkAnswer(4)">Comprobar</button>
    <p id="res4"></p>
  </div>

  <div class="cipher">
    <p><strong>5. Morse:</strong> "- . / .- -.-. ..- . .-. -.. .- ... / -.. --- -. -.. . / . ... - .- / -- .. / .--- . ..-. ."</p>
    <input id="ans5" placeholder="Tu respuesta" autocomplete="off" />
    <button onclick="checkAnswer(5)">Comprobar</button>
    <p id="res5"></p>
  </div>

  <div class="cipher">
    <p><strong>6. Hexadecimal:</strong> "526563uerda20736f7920656c206163657274696a6f206573746173206365726361"</p>
    <input id="ans6" placeholder="Tu respuesta" autocomplete="off" />
    <button onclick="checkAnswer(6)">Comprobar</button>
    <p id="res6"></p>
  </div>

  <div class="cipher">
    <p><strong>7. Clave Bill (Gravity Falls):</strong> "Zh wl ovcwlt sz wbnjvp rzfm xntwjr bmnwvn ulws (wyt sx zjq dw rnkjw)"</p>
    <input id="ans7" placeholder="Tu respuesta" autocomplete="off" />
    <button onclick="checkAnswer(7)">Comprobar</button>
    <p id="res7"></p>
  </div>

  <script>
    const respuestas = {
      1: "tengo algo secreto",
      2: "cuando vengas no estara",
      3: "revisa encima de mi armario",
      4: "encontraras algo inedito",
      5: "te acuerdas donde esta mi jefe",
      6: "recuerda soy el acertijo estas cerca",
      7: "si lo logras te dejare ponerme cualquier reto que no sea con dinero"
    };

    let correct = Array(7).fill(false);
    let fallos = 0;
    let tiempo = 300; // 5 minutos

    const timerEl = document.getElementById("timer");
    const body = document.body;

    const sonidoAcierto = new Audio("https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg");
    const sonidoError = new Audio("https://actions.google.com/sounds/v1/alarms/beep_short.ogg");

    const countdown = setInterval(() => {
      tiempo--;
      timerEl.textContent = `Tiempo restante: ${tiempo}s`;
      if (tiempo <= 0) {
        clearInterval(countdown);
        perder("â³ Tiempo agotado, el misterio sigue sin resolverse...");
      }
    }, 1000);

    function checkAnswer(num) {
      const input = document.getElementById("ans" + num);
      const res = document.getElementById("res" + num);
      const valor = input.value.trim().toLowerCase();

      if (valor === respuestas[num]) {
        if (!correct[num - 1]) {
          res.textContent = "âœ… Correcto";
          res.className = "correct";
          correct[num - 1] = true;
          sonidoAcierto.play();
          input.disabled = true;
        }
      } else {
        res.textContent = "âŒ Incorrecto";
        res.className = "incorrect";
        fallos++;
        sonidoError.play();
        flashRed();
        if (fallos >= 7) {
          perder("ðŸ’€ Has fallado demasiado, el misterio se ha perdido...");
        }
      }

      if (correct.every(Boolean)) {
        clearInterval(countdown);
        revelarFinal();
      }
    }

    function flashRed() {
      body.classList.add("flash-red");
      setTimeout(() => body.classList.remove("flash-red"), 300);
    }

    function perder(mensaje) {
      clearInterval(countdown);
      alert(mensaje);
      body.innerHTML = `<h1 style="color:red; text-align:center;">${mensaje}</h1>`;
    }

    function revelarFinal() {
      body.innerHTML = `
        <h1 id="final-message">Yo soy el primer acertijo femboy</h1>
      `;
    }
  </script>
</body>
</html>
